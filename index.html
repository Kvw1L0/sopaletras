<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sopa Militar</title>

<style>
  /* BLOQUEA TODO EL SCROLL DEL MUNDO */
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden; /* ← elimina scroll */
    height: 100vh;
    background: url('fondo.jpg') center/cover no-repeat;
    font-family: Arial, sans-serif;
  }

  /* HEADER FIJO */
  #header {
    position: fixed;
    top: 0;
    width: 100%;
    height: 120px; /* AJUSTA A TU TÍTULO Y LOGO */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    pointer-events: none; /* nadie lo toca */
  }

  /* SOPA DE LETRAS – FIJA, MILITAR, INAMOVIBLE */
  #soup-container {
    position: fixed;
    top: 160px;      /* SIEMPRE 50px BAJO EL HEADER */
    left: 50%;
    transform: translateX(-50%);
    width: 500px;
    padding: 15px;
    background: transparent;
    border: 3px solid black;
    border-radius: 12px;
    z-index: 999;
  }

  /* GRILLA */
  .row {
    display: flex;
  }
  .cell {
    width: 30px;
    height: 30px;
    font-size: 20px;
    text-align: center;
    line-height: 30px;
    border: 1px solid #01afff;
    color: #01afff;
  }

  /* PISTAS FIJAS */
  #clue-panel {
    position: fixed;
    top: 160px;
    right: 30px;
    width: 280px;
    padding: 10px;
    background: rgba(255,255,255,0.8);
    border-radius: 10px;
    z-index: 998;
  }
</style>
</head>

<body>

<div id="header">
  <img src="titulo.png" alt="Sopa de Letras">
</div>

<div id="soup-container"></div>

<div id="clue-panel">
  <h3>Pistas</h3>
  <ul id="clues"></ul>
</div>

<script>
/* -------------------------
   BLOQUE TOTAL DE RECARGA
   ------------------------- */
window.addEventListener("beforeunload", function(e) {
  e.preventDefault();
  e.returnValue = "";
});
window.addEventListener("keydown", function(e) {
  if (
    e.key === "F5" ||
    (e.ctrlKey && (e.key === "r" || e.key === "R")) ||
    (e.metaKey && (e.key === "r" || e.key === "R"))
  ) {
    e.preventDefault();
  }
});
window.addEventListener("contextmenu", function(e) {
  e.preventDefault();
});

/* -------------------------
   GENERACIÓN ÚNICA DE LA SOPA
   ------------------------- */

const palabras = ["FUEGO","AGUA","TIERRA","AIRE"];
const pistas = [
  "Elemento caliente que cocina",
  "Cae del cielo",
  "Se pisa al caminar",
  "Lo respiras"
];

const gridSize = 12;
let grid = [];

function crearGrillaVacia() {
  grid = Array.from({ length: gridSize }, () =>
    Array(gridSize).fill("")
  );
}

function ponerPalabra(palabra) {
  let dir = Math.random() < 0.5; // horizontal o vertical
  let row, col;

  if (dir) {
    row = Math.floor(Math.random() * gridSize);
    col = Math.floor(Math.random() * (gridSize - palabra.length));
    for (let i = 0; i < palabra.length; i++) {
      grid[row][col + i] = palabra[i];
    }
  } else {
    col = Math.floor(Math.random() * gridSize);
    row = Math.floor(Math.random() * (gridSize - palabra.length));
    for (let i = 0; i < palabra.length; i++) {
      grid[row + i][col] = palabra[i];
    }
  }
}

function llenarRandom() {
  const letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  for (let r = 0; r < gridSize; r++) {
    for (let c = 0; c < gridSize; c++) {
      if (grid[r][c] === "") {
        grid[r][c] = letras[Math.floor(Math.random() * letras.length)];
      }
    }
  }
}

function renderGrid() {
  const container = document.getElementById("soup-container");
  container.innerHTML = "";
  grid.forEach(row => {
    const div = document.createElement("div");
    div.className = "row";
    row.forEach(letter => {
      const cell = document.createElement("div");
      cell.className = "cell";
      cell.textContent = letter;
      div.appendChild(cell);
    });
    container.appendChild(div);
  });
}

function renderClues() {
  const ul = document.getElementById("clues");
  pistas.forEach(p => {
    const li = document.createElement("li");
    li.textContent = p;
    ul.appendChild(li);
  });
}

/* --- GENERAR LA SOPA UNA SOLA VEZ --- */
window.addEventListener("load", () => {
  crearGrillaVacia();
  palabras.forEach(ponerPalabra);
  llenarRandom();
  renderGrid();
  renderClues();
});
</script>

</body>
</html>
